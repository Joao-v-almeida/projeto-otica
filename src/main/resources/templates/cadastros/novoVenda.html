<div th:replace="compartilhado/header">...</div>

<style>
  input::placeholder {
    font-size: 14px;
    color: #8d8b8b;
    font-style: italic;
  }
  label{
    color: #000;
  }
  .alert{
        text-align: center;
        margin-top: 12px;
    }
</style>

<div class="container-fluid">

  <!-- Page Heading -->

  <!-- DataTales Example -->
  <div class="card shadow mb-4" style="padding: 30px;">
    <form method="POST" action="/vendas/criar" onsubmit="return confirm('Confirmar Venda?')">

      <h1 class="h3 mb-2 text-gray-800" style="text-align: center;">Cadastro de Venda</h1>

      <div class="form-group">
        <label for="id_receita">Receita do cliente: </label>
        <select class="form-control" name="id_receita" id="id_receita">
          <option th:each="receita : ${receitas}" th:text="${receita.cliente.nome}"
            th:value="${receita.id_receita}"></option>
        </select>

        <div class="form-group">
          <label for="id_produto">Produto: </label>
          <select class="form-control" name="id_produto" id="id_produto">
            <option th:each="produto : ${produtos}" th:text="${produto.nome}" th:value="${produto.id_produto}"></option>
          </select>
          <button>Adicionar</button>
        </div>

        <table class="table table-bordered" id="dataTable" width="100%" cellspacing="0">
            <thead>
                <tr align="center">
                    <th>PRODUTO</th>
                    <th>VALOR</th>
                    <th>ESTOQUE</th>
                    <th>AÇÃO</th>
                </tr>
            </thead>
            <tbody align="center">
                <tr th:each="produto: ${produtos}">
                    <td th:text="${produto.nome}"></td>
                    <td th:text="${produto.preco_venda}"></td>
                    <td th:text="${produto.estoque}"></td>
                    <th><a href="#"
                            th:onclick="'if(confirm(\'Confirmar Inativação?\')) {window.location.href = \'' + @{/clientes/{id_cliente}(id_cliente=${cliente.id_cliente})} + '/inativar\'}'"
                            class="btn btn-danger">Remover</th>
                </tr>
            </tbody>
        </table>

        <div class="form-group">
          <label for="desconto">Desconto</label>
          <input id="desconto" name="desconto" class="form-control" placeholder="0,00" required type="number"></option>
        </div>

        <div class="form-group">
            <label for="total">Total</label>
            <input id="total" name="total" class="form-control" placeholder="0,00" required type="number"></option>
        </div>

        <div th:if="${msg != null}" th:text="${msg}" class="alert alert-danger" role="alert"></div>
        <button type="submit" class="btn btn-primary">Enviar</button>
        <a href="/vendas"><button type="button" class="btn btn-danger">Cancelar</button></a>
        <div th:if="${erro != null}" th:text="${erro}" class="alert alert-danger" role="alert"></div>

    </form>
  </div>
</div>
<!-- /.container-fluid -->
<div th:replace="compartilhado/footer"></div>